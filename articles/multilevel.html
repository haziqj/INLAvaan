<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Multilevel SEM • INLAvaan</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="multilevel_files/libs/quarto-html/popper.min.js"></script><script src="multilevel_files/libs/quarto-html/tippy.umd.min.js"></script><link href="multilevel_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="multilevel_files/libs/quarto-html/light-border.css" rel="stylesheet">
<script src="multilevel_files/libs/quarto-diagram/mermaid.min.js"></script><script src="multilevel_files/libs/quarto-diagram/mermaid-init.js"></script><link href="multilevel_files/libs/quarto-diagram/mermaid.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Multilevel SEM">
<meta property="og:image" content="https://inlavaan.haziqj.ml/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">INLAvaan</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/INLAvaan.html">Get started</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-examples" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Examples</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-examples">
<li><a class="dropdown-item" href="../articles/cfa.html">Confirmatory factor analysis</a></li>
    <li><a class="dropdown-item" href="../articles/sem.html">Structural equation modelling</a></li>
    <li><a class="dropdown-item" href="../articles/growth.html">Latent growth curve models</a></li>
    <li><a class="dropdown-item" href="../articles/eqcon.html">Equality constraints</a></li>
    <li><a class="dropdown-item" href="../articles/multigroup.html">Multigroup analysis</a></li>
    <li><a class="dropdown-item" href="../articles/multilevel.html">Multilevel SEM</a></li>
    <li><a class="dropdown-item" href="../articles/mediation.html">Mediation analysis</a></li>
    <li><a class="dropdown-item" href="../articles/missing.html">Missing data</a></li>
    <li><a class="dropdown-item" href="../articles/binary.html">Binary CFA</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/haziqj/INLAvaan/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Multilevel SEM</h1>




      <small class="dont-index">Source: <a href="https://github.com/haziqj/INLAvaan/blob/main/vignettes/articles/multilevel.qmd" class="external-link"><code>vignettes/articles/multilevel.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <p>Standard SEM assumes that all observations are independent. However, data often have a nested structure (e.g., patients within hospitals, employees within companies, or students within schools). Ignoring this structure assumes independence, leading to underestimated posterior uncertainty (overconfidence) and potentially biased parameter estimates.</p>
<p>This vignette demonstrates how to estimate a two-level SEM using INLAvaan. A multilevel SEM decomposes the covariance matrix into separate levels:</p>
<ol type="1">
<li>
<strong>Within-level:</strong> Variation among individuals relative to their group mean.</li>
<li>
<strong>Between-level:</strong> Variation of the group means themselves.</li>
</ol>
<p>This allows us to ask distinct questions at each level. For example:</p>
<blockquote>
<p><em>“Does a student’s individual motivation predict their grades (Level 1), and does the school’s overall funding predict average school grades (Level 2)?”</em></p>
</blockquote>
<section class="level2"><h2 id="the-example-scenario">The Example Scenario<a class="anchor" aria-label="anchor" href="#the-example-scenario"></a>
</h2>
<p>We will use the <code>Demo.twolevel</code> dataset included in the R package <a href="https://lavaan.ugent.be" class="external-link">lavaan</a>, but to make it easier to follow, we will interpret the variables within an educational context. The data contains the following information:</p>
<ul>
<li>
<strong>Clusters (<code>cluster</code>):</strong> 200 different schools.</li>
<li>
<strong>Observations:</strong> 2500 students nested within these schools.</li>
<li>
<strong>Outcomes (<code>y1</code>, <code>y2</code>, <code>y3</code>):</strong> Three distinct survey items measuring “Academic Performance.”</li>
<li>
<strong>Within-level Predictors (<code>x1</code>, <code>x2</code>, <code>x3</code>):</strong> Student-specific factors such as Study Hours, Sleep Hours, and Attendance.</li>
<li>
<strong>Between-level Predictors (<code>w1</code>, <code>w2</code>):</strong> School-level factors such as Teacher Experience, and School Budget.</li>
</ul>
<p>For our model, we assume two latent variables:</p>
<ol type="1">
<li>
<code>fw</code> measuring individual students aptitude (i.e. student ability)</li>
<li>
<code>fb</code> measuring school quality, i.e. the shared variance in performance attributable to the school environment.</li>
</ol>
<p>The envisaged two-level SEM can be visualized as follows:</p>
<style>
.mermaid-js rect{
  fill: lightyellow!important;
}
</style>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p>
<figure class=""><p></p>
<div>
<pre class="mermaid mermaid-js">graph LR

    %% --- Level 1: Within (Student) ---
    subgraph L1 [Level 1: Within-Student]
        direction LR
        x1[x1] &amp; x2[x2] &amp; x3[x3] --&gt; fw((fw))
        fw --&gt; y1_w[y1] &amp; y2_w[y2] &amp; y3_w[y3]
    end

    %% --- Separator (Invisible edge to force stacking if needed) ---
    L1 ~~~ L2

    %% --- Level 2: Between (School) ---
    subgraph L2 [Level 2: Between-School]
        direction LR
        w1[w1] &amp; w2[w2] --&gt; fb((fb))
        fb --&gt; y1_b[y1] &amp; y2_b[y2] &amp; y3_b[y3]
    end

        %% --- Styling ---
    classDef latent fill:#f9f9f9,stroke:#333,stroke-width:2px,shape:circle;
    classDef observed fill:#fff,stroke:#333,stroke-width:1px,shape:rect;

    class fw,fb latent;
    class x1,x2,x3,w1,w2,y1_b,y2_b,y3_b,y1_w,y2_w,y3_w observed;
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</section><section class="level2"><h2 id="load-the-package-and-data">Load the Package and Data<a class="anchor" aria-label="anchor" href="#load-the-package-and-data"></a>
</h2>
<p>First, we load INLAvaan and the dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://inlavaan.haziqj.ml/">INLAvaan</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"Demo.twolevel"</span>, package <span class="op">=</span> <span class="st">"lavaan"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">Demo.twolevel</span><span class="op">)</span></span>
<span><span class="co">#&gt;           y1         y2         y3         y4         y5         y6         x1</span></span>
<span><span class="co">#&gt; 1  0.2293216  1.3555232 -0.6911702  0.8028079 -0.3011085 -1.7260671  1.1739003</span></span>
<span><span class="co">#&gt; 2  0.3085801 -1.8624397 -2.4179783  0.7659289  1.6750617  1.1764210 -1.0039958</span></span>
<span><span class="co">#&gt; 3  0.2004934 -1.3400514  0.4376087  1.1974194  1.1951594  1.4988962 -0.4402545</span></span>
<span><span class="co">#&gt; 4  1.0447982 -0.9624490 -0.4464898 -0.2027252 -0.4590574  1.1734061 -0.6253657</span></span>
<span><span class="co">#&gt; 5  0.6881792 -0.4565633 -0.6422296  0.9900408  1.7662535  0.7944601 -0.8450025</span></span>
<span><span class="co">#&gt; 6 -2.0687644 -0.5997856  0.3148418  0.6764432 -0.6519928  1.8405605 -0.7831784</span></span>
<span><span class="co">#&gt;            x2         x3         w1         w2 cluster</span></span>
<span><span class="co">#&gt; 1 -0.62315173  0.6470414 -0.2479975 -0.4989800       1</span></span>
<span><span class="co">#&gt; 2 -0.56689380  0.0201264 -0.2479975 -0.4989800       1</span></span>
<span><span class="co">#&gt; 3 -2.13432572 -0.4591246 -0.2479975 -0.4989800       1</span></span>
<span><span class="co">#&gt; 4 -0.33688869  1.2852093 -0.2479975 -0.4989800       1</span></span>
<span><span class="co">#&gt; 5 -0.04229954  1.5598970 -0.2479975 -0.4989800       1</span></span>
<span><span class="co">#&gt; 6 -0.22441996 -0.3814231 -2.3219338 -0.6910567       2</span></span></code></pre></div>
</div>
</section><section class="level2"><h2 id="model-specification-and-fit">Model Specification and Fit<a class="anchor" aria-label="anchor" href="#model-specification-and-fit"></a>
</h2>
<p>In <a href="https://inlavaan.haziqj.ml/">INLAvaan</a> (following lavaan syntax), we specify the model for each level using the <code>level: &lt;block&gt;</code> keywords. In our example,</p>
<ul>
<li>
<strong>Level 1:</strong> We define the latent variable <code>fw</code> (Student Ability) and regress it on individual predictors (<code>x</code>).</li>
<li>
<strong>Level 2:</strong> We define the latent variable <code>fb</code> (School Quality) and regress it on school-level predictors (<code>w</code>).</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">  level: 1</span></span>
<span><span class="st">      # Measurement model (Within-student)</span></span>
<span><span class="st">      fw =~ y1 + y2 + y3</span></span>
<span><span class="st">      # Structural model: Individual predictors</span></span>
<span><span class="st">      fw ~ x1 + x2 + x3</span></span>
<span><span class="st"></span></span>
<span><span class="st">  level: 2</span></span>
<span><span class="st">      # Measurement model (Between-school)</span></span>
<span><span class="st">      fb =~ y1 + y2 + y3</span></span>
<span><span class="st">      # Structural model: School-level predictors</span></span>
<span><span class="st">      fb ~ w1 + w2</span></span>
<span><span class="st">"</span></span></code></pre></div>
</div>
<p>We use the <code><a href="../reference/asem.html">asem()</a></code> function (Approximate SEM) to fit the model. Crucially, we must specify the <code>cluster</code> argument to identify the grouping variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/asem.html">asem</a></span><span class="op">(</span><span class="va">mod</span>, data <span class="op">=</span> <span class="va">Demo.twolevel</span>, cluster <span class="op">=</span> <span class="st">"cluster"</span><span class="op">)</span></span>
<span><span class="co">#&gt; ℹ Finding posterior mode.</span></span>
<span><span class="co">#&gt; ✔ Finding posterior mode. [720ms]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ℹ Computing the Hessian.</span></span>
<span><span class="co">#&gt; ✔ Computing the Hessian. [742ms]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ℹ Performing VB correction.</span></span>
<span><span class="co">#&gt; ✔ VB correction; mean |δ| = 0.021σ. [675ms]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ⠙ Fitting skew normal to 0/20 marginals.</span></span>
<span><span class="co">#&gt; ⠹ Fitting skew normal to 6/20 marginals.</span></span>
<span><span class="co">#&gt; ✔ Fitting skew normal to 20/20 marginals. [3.8s]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ⠙ Computing ppp and DIC.</span></span>
<span><span class="co">#&gt; ⠹ Computing ppp and DIC.</span></span>
<span><span class="co">#&gt; ✔ Computing ppp and DIC. [873ms]</span></span>
<span><span class="co">#&gt; </span></span></code></pre></div>
</div>
</section><section class="level2"><h2 id="results">Results<a class="anchor" aria-label="anchor" href="#results"></a>
</h2>
<p>The summary output provides Bayesian estimates (posterior means, standard deviations, and credible intervals) for <em>both levels</em>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">fit</span><span class="op">)</span></span>
<span><span class="co">#&gt; INLAvaan 0.2.2 ended normally after 108 iterations</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Estimator                                      BAYES</span></span>
<span><span class="co">#&gt;   Optimization method                           NLMINB</span></span>
<span><span class="co">#&gt;   Number of model parameters                        20</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Number of observations                          2500</span></span>
<span><span class="co">#&gt;   Number of clusters [cluster]                     200</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Model Test (User Model):</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    Marginal log-likelihood                  -12185.526 </span></span>
<span><span class="co">#&gt;    PPP (Chi-square)                              0.004 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Information Criteria:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    Deviance (DIC)                            24281.278 </span></span>
<span><span class="co">#&gt;    Effective parameters (pD)                    64.023 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Parameter Estimates:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;    Marginalisation method                     SKEWNORM</span></span>
<span><span class="co">#&gt;    VB correction                                  TRUE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Level 1 [within]:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Latent Variables:</span></span>
<span><span class="co">#&gt;                    Estimate       SD     2.5%    97.5%     NMAD    Prior       </span></span>
<span><span class="co">#&gt;   fw =~                                                                        </span></span>
<span><span class="co">#&gt;     y1                1.000                                                    </span></span>
<span><span class="co">#&gt;     y2                0.774    0.034    0.708    0.843    0.004    normal(0,10)</span></span>
<span><span class="co">#&gt;     y3                0.734    0.033    0.671    0.800    0.003    normal(0,10)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Regressions:</span></span>
<span><span class="co">#&gt;                    Estimate       SD     2.5%    97.5%     NMAD    Prior       </span></span>
<span><span class="co">#&gt;   fw ~                                                                         </span></span>
<span><span class="co">#&gt;     x1                0.510    0.023    0.465    0.556    0.001    normal(0,10)</span></span>
<span><span class="co">#&gt;     x2                0.407    0.022    0.364    0.452    0.001    normal(0,10)</span></span>
<span><span class="co">#&gt;     x3                0.205    0.021    0.164    0.247    0.001    normal(0,10)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Intercepts:</span></span>
<span><span class="co">#&gt;                    Estimate       SD     2.5%    97.5%     NMAD    Prior       </span></span>
<span><span class="co">#&gt;    .y1                0.000                                                    </span></span>
<span><span class="co">#&gt;    .y2                0.000                                                    </span></span>
<span><span class="co">#&gt;    .y3                0.000                                                    </span></span>
<span><span class="co">#&gt;    .fw                0.000                                                    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Variances:</span></span>
<span><span class="co">#&gt;                    Estimate       SD     2.5%    97.5%     NMAD    Prior       </span></span>
<span><span class="co">#&gt;    .y1                0.986    0.046    1.078    0.898    0.001 gamma(1,.5)[sd]</span></span>
<span><span class="co">#&gt;    .y2                1.069    0.039    1.147    0.994    0.001 gamma(1,.5)[sd]</span></span>
<span><span class="co">#&gt;    .y3                1.013    0.037    1.087    0.943    0.001 gamma(1,.5)[sd]</span></span>
<span><span class="co">#&gt;    .fw                0.550    0.041    0.633    0.473    0.003 gamma(1,.5)[sd]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Level 2 [cluster]:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Latent Variables:</span></span>
<span><span class="co">#&gt;                    Estimate       SD     2.5%    97.5%     NMAD    Prior       </span></span>
<span><span class="co">#&gt;   fb =~                                                                        </span></span>
<span><span class="co">#&gt;     y1                1.000                                                    </span></span>
<span><span class="co">#&gt;     y2                0.717    0.051    0.621    0.820    0.016    normal(0,10)</span></span>
<span><span class="co">#&gt;     y3                0.589    0.047    0.499    0.685    0.008    normal(0,10)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Regressions:</span></span>
<span><span class="co">#&gt;                    Estimate       SD     2.5%    97.5%     NMAD    Prior       </span></span>
<span><span class="co">#&gt;   fb ~                                                                         </span></span>
<span><span class="co">#&gt;     w1                0.164    0.079    0.010    0.318    0.000    normal(0,10)</span></span>
<span><span class="co">#&gt;     w2                0.130    0.076   -0.020    0.279    0.000    normal(0,10)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Intercepts:</span></span>
<span><span class="co">#&gt;                    Estimate       SD     2.5%    97.5%     NMAD    Prior       </span></span>
<span><span class="co">#&gt;    .y1                0.025    0.075   -0.122    0.171    0.000    normal(0,32)</span></span>
<span><span class="co">#&gt;    .y2               -0.016    0.060   -0.134    0.102    0.000    normal(0,32)</span></span>
<span><span class="co">#&gt;    .y3               -0.042    0.054    0.064   -0.149    0.001    normal(0,32)</span></span>
<span><span class="co">#&gt;    .fb                0.000                                                    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Variances:</span></span>
<span><span class="co">#&gt;                    Estimate       SD     2.5%    97.5%     NMAD    Prior       </span></span>
<span><span class="co">#&gt;    .y1                0.065    0.042    1.398    0.006    0.096 gamma(1,.5)[sd]</span></span>
<span><span class="co">#&gt;    .y2                0.117    0.031    0.336    0.062    0.013 gamma(1,.5)[sd]</span></span>
<span><span class="co">#&gt;    .y3                0.151    0.028    0.288    0.101    0.002 gamma(1,.5)[sd]</span></span>
<span><span class="co">#&gt;    .fb                0.905    0.119    1.156    0.691    0.004 gamma(1,.5)[sd]</span></span></code></pre></div>
</div>
<p>Notice that, the mean structure is automatically included at both levels, so intercepts for all observed variables are estimated by default. This is required because the ‘between’ component specifically models the variation of the cluster means; without estimating these means (intercepts), it is impossible to decompose the variance into within and between levels. Looking at the output above, we can draw substantive conclusions based on our educational scenario:</p>
<ul>
<li>
<p><strong>Level 1 [within] Regressions</strong></p>
<p>The path <code>fw ~ x1</code> is 0.510. This suggests that for every unit increase in <code>x1</code> (e.g., Study Hours), the student’s individual ability (<code>fw</code>) increases significantly.</p>
</li>
<li>
<p><strong>Level 2 [cluster] Regressions</strong></p>
<p>The path <code>fb ~ w1</code> is 0.164 This suggests a positive relationship between school-level factors (like Teacher Experience) and the overall School Quality (<code>fb</code>), though the standard deviation is wider here due to the smaller sample size at Level 2 (<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>200</mn></mrow><annotation encoding="application/x-tex">n=200</annotation></semantics></math> schools vs <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>2500</mn></mrow><annotation encoding="application/x-tex">n=2500</annotation></semantics></math> students).</p>
</li>
<li>
<p><strong>Latent Variables:</strong></p>
<p>The loadings for <code>y1</code>, <code>y2</code>, and <code>y3</code> on both <code>fw</code> and <code>fb</code> are significant (0 not included in credible interval) and thus confirm that these survey items effectively measure both individual ability and school-level quality.</p>
</li>
</ul></section><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config);
    }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://haziqj.ml/" class="external-link">Haziq Jamil</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
